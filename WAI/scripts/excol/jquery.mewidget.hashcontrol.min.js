/**
 * meWidget Hashcontrol
 * 
 * Listen to hash change events and handle meWidget reactions
 * 
 * @package meWidgets
 * @author Mandana Eibegger
 *          with support from eGovMon Project and 
 *          W3C/WAI Education and Outreach Working Group (EOWG)
 *          see http://www.schoener.at/mewidgets/ for more information
 * @version v0.9 (17 Feb 2012)
 */
var hashcontrol=true;var resetHashTimeout="";var checkElementToResetHash="";function tryToResetHash(d){if(d){checkElementToResetHash=d}else{d=checkElementToResetHash}if(!isInAnimation(d)){var c=$(window.location.hash).offset();var b=$(window).scrollTop();var a=b+$(window).height();if(b>c.top||c.top>a){$(window).scrollTop(c.top)}window.location.hash=window.location.hash}else{resetHashTimeout=window.setTimeout("tryToResetHash()",50)}}var resetIdTimeout="";function tryToResetId(a){if(!isInAnimation(a)){resetId(a)}else{resetIdTimeout=window.setTimeout(function(){tryToResetId(a)},50)}}function isInAnimation(a){return a.attr("style")&&(a.attr("style").indexOf("height")!=-1||a.attr("style").indexOf("width")!=-1)}function resetId(b){var a=$("body").data("tabHashPrefix");b.each(function(){var c=$(this);var d=c.attr("id");if(d.indexOf(a)!=-1){d=d.substr(a.length)}c.attr("id",d)})}$(document).ready(function(){$("body").data("waitForExpand",0);$(window).hashchange(function(){window.clearTimeout(resetHashTimeout);var b=$("body").data("tabHashPrefix");var e=window.location.hash;var d=$(e);if(b){var a=b+e.substr(1);var c=$("*[id*="+b+"]").not("#"+a);resetId(c)}if(d.length){$(d).trigger("expand",[true])}else{if(b){$("#"+a).trigger("expand",[true])}}});$("body").bind("expand",function(c,a){if(a&&typeof(a)=="boolean"){var b=$("body").data("tabHashPrefix");var e=window.location.hash;var d=$(e);if(d.length){tryToResetHash(d)}else{if(b){var f=b+e.substr(1);if($("#"+f)){tryToResetId($("#"+f))}}}}})});